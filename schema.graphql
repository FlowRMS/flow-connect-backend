input CampaignCriteriaInput {
  groups: [CriteriaGroupInput!]!
  groupOperator: LogicalOperator! = AND
}

input CampaignInput {
  name: String!
  recipientListType: RecipientListType!
  description: String
  emailSubject: String
  emailBody: String
  aiPersonalizationEnabled: Boolean! = false
  sendPace: SendPace! = MEDIUM
  maxEmailsPerDay: Int
  scheduledAt: datetime
  sendImmediately: Boolean! = false
  staticContactIds: [UUID!]
  criteria: CampaignCriteriaInput
}

type CampaignLandingPage implements LandingPageInterfaceBase {
  id: UUID!
  createdAt: datetime!
  createdBy: String!
  userIds: [UUID!]!
  name: String!
  status: CampaignStatus!
  recipientListType: RecipientListType!
  recipientsCount: Int!
  sentCount: Int!
  progress: String!
}

type CampaignRecipientResponse {
  id: UUID!
  campaignId: UUID!
  contactId: UUID!
  emailStatus: EmailStatus!
  sentAt: datetime
  personalizedContent: String
  contact: ContactResponse!
}

type CampaignResponse {
  id: UUID!
  createdAt: datetime!
  name: String!
  status: CampaignStatus!
  recipientListType: RecipientListType!
  description: String
  emailSubject: String
  emailBody: String
  aiPersonalizationEnabled: Boolean!
  sendPace: SendPace!
  maxEmailsPerDay: Int
  scheduledAt: datetime
  sendImmediately: Boolean!
  recipientsCount: Int!
  sentCount: Int!
  criteriaJson: JSON
}

type CampaignSendingStatusResponse {
  campaignId: UUID!
  status: CampaignStatus!
  totalRecipients: Int!
  sentCount: Int!
  pendingCount: Int!
  failedCount: Int!
  bouncedCount: Int!
  todaySentCount: Int!
  maxEmailsPerDay: Int!
  remainingToday: Int!
  sendPace: SendPace
  emailsPerHour: Int!
  progressPercentage: Float!
  isCompleted: Boolean!
  canSendMoreToday: Boolean!
  progressDisplay: String!
}

enum CampaignStatus {
  DRAFT
  SCHEDULED
  SENDING
  COMPLETED
  PAUSED
}

type CheckResponse {
  id: UUID!
  checkNumber: String!
  entityDate: Date!
  postDate: Date
  commissionMonth: Date
  commission: Decimal!
  factoryId: UUID!
  status: Int!
  createdBy: UUID!
  creationType: Int!
  url: String!
}

input CompanyInput {
  name: String!
  companySourceType: CompanyType!
  website: String
  phone: String
  tags: [String!]
  parentCompanyId: UUID
}

type CompanyLandingPage implements LandingPageInterfaceBase {
  id: UUID!
  createdAt: datetime!
  createdBy: String!
  userIds: [UUID!]!
  name: String!
  companySourceType: String!
  website: String
  phone: String
  tags: [String!]
}

type CompanyResponse {
  id: UUID!
  createdAt: datetime!
  name: String!
  companySourceType: CompanyType!
  website: String
  phone: String
  tags: [String!]
  parentCompanyId: UUID
  createdBy: UserResponse!
}

enum CompanyType {
  CUSTOMER
  MANUFACTURER
}

input ContactInput {
  firstName: String!
  lastName: String!
  email: String
  phone: String
  role: String
  territory: String
  tags: [String!]
  notes: String
  companyId: UUID
}

type ContactLandingPage implements LandingPageInterfaceBase {
  id: UUID!
  createdAt: datetime!
  createdBy: String!
  userIds: [UUID!]!
  firstName: String!
  lastName: String!
  email: String
  phone: String
  role: String
  companyName: String
  tags: [String!]
}

type ContactRelatedEntitiesResponse {
  companies: [CompanyResponse!]!
}

type ContactResponse {
  id: UUID!
  createdAt: datetime!
  firstName: String!
  lastName: String!
  email: String
  phone: String
  role: String
  territory: String
  tags: [String!]
  notes: String
}

input CreateHighlightVersionInput {
  specSheetId: UUID!
  name: String!
  description: String = null
  regions: [HighlightRegionInput!]!
}

input CreateSpecSheetInput {
  factoryId: UUID!
  fileName: String!
  displayName: String = null
  uploadSource: String!
  sourceUrl: String = null
  pageCount: Int! = 1
  categories: [String!]!
  tags: [String!] = null
  folderPath: String = null
  needsReview: Boolean! = false
  published: Boolean! = true
  file: Upload = null
}

enum CreationType {
  MANUAL
  IMPORT
  API
  DUPLICATION
}

input CriteriaConditionInput {
  entityType: EntityType!
  field: String!
  operator: CriteriaOperator!
  value: JSON = null
}

input CriteriaGroupInput {
  logicalOperator: LogicalOperator!
  conditions: [CriteriaConditionInput!]!
}

enum CriteriaOperator {
  EQUALS
  NOT_EQUALS
  CONTAINS
  NOT_CONTAINS
  GREATER_THAN
  LESS_THAN
  GREATER_THAN_OR_EQUALS
  LESS_THAN_OR_EQUALS
  IS_NULL
  IS_NOT_NULL
  IN
  NOT_IN
}

input CustomerFactorySalesRepInput {
  customerId: UUID!
  factoryId: UUID!
  userId: UUID!
  rate: Decimal!
  position: Int! = 0
}

type CustomerFactorySalesRepResponse {
  id: UUID!
  customerId: UUID!
  factoryId: UUID!
  userId: UUID!
  rate: Decimal!
  position: Int!
  customer: CustomerLiteResponse!
  factory: FactoryLiteResponse!
  user: UserResponse!
}

input CustomerInput {
  companyName: String!
  insideSplitRates: [InsideSplitRateInput!]! = []
  outsideSplitRates: [OutsideSplitRateInput!]! = []
  published: Boolean! = false
  isParent: Boolean! = false
  parentId: UUID = null
}

type CustomerLandingPage implements LandingPageInterfaceBase {
  id: UUID!
  createdAt: datetime!
  createdBy: String!
  userIds: [UUID!]!
  companyName: String!
  published: Boolean!
  isParent: Boolean!
  insideReps: [String!]!
  outsideReps: [String!]!
}

type CustomerLiteResponse {
  id: UUID!
  companyName: String!
  published: Boolean!
  isParent: Boolean!
  parentId: UUID
}

type CustomerResponse {
  id: UUID!
  companyName: String!
  published: Boolean!
  isParent: Boolean!
  parentId: UUID
  createdBy: UserResponse!
  outsideReps: [CustomerSplitRateResponse!]!
  insideReps: [CustomerSplitRateResponse!]!
}

type CustomerSplitRateResponse {
  id: UUID!
  customerId: UUID!
  repType: RepTypeEnum!
  position: Int!
  splitRate: Decimal!
  user: UserResponse!
}

"""Date (isoformat)"""
scalar Date

scalar Decimal

input DeleteLinkByEntitiesInput {
  sourceEntityType: EntityType!
  sourceEntityId: UUID!
  targetEntityType: EntityType!
  targetEntityId: UUID!
}

enum EmailStatus {
  PENDING
  SENT
  FAILED
  BOUNCED
}

enum EntityType {
  JOB
  TASK
  CONTACT
  COMPANY
  NOTE
  PRE_OPPORTUNITY
  QUOTE
  ORDER
  INVOICE
  CHECK
  FACTORY
  CUSTOMER
  PRODUCT
}

type EstimateRecipientsResponse {
  count: Int!
  sampleContacts: [ContactResponse!]!
}

input FactoryInput {
  title: String!
  splitRates: [FactorySplitRateInput!]! = []
  published: Boolean! = false
  accountNumber: String = null
  email: String = null
  phone: String = null
  logoId: UUID = null
  leadTime: Int = null
  paymentTerms: Int = null
  baseCommissionRate: Decimal! = "0.0000"
  commissionDiscountRate: Decimal! = "0.0000"
  overallDiscountRate: Decimal! = "0.0000"
  additionalInformation: String = null
  freightTerms: String = null
  externalPaymentTerms: String = null
}

type FactoryLandingPage implements LandingPageInterfaceBase {
  id: UUID!
  createdAt: datetime!
  createdBy: String!
  userIds: [UUID!]!
  title: String!
  published: Boolean!
  freightDiscountType: Int!
  accountNumber: String
  email: String
  phone: String
  leadTime: Int
  paymentTerms: Int
  baseCommissionRate: Decimal!
  commissionDiscountRate: Decimal!
  overallDiscountRate: Decimal!
  splitRates: [String!]!
}

type FactoryLiteResponse {
  id: UUID!
  title: String!
  published: Boolean!
  freightDiscountType: Int!
  accountNumber: String
  email: String
  phone: String
  logoId: UUID
  leadTime: Int
  paymentTerms: Int
  baseCommissionRate: Decimal!
  commissionDiscountRate: Decimal!
  overallDiscountRate: Decimal!
  additionalInformation: String
  freightTerms: String
  externalPaymentTerms: String
}

type FactoryResponse {
  id: UUID!
  title: String!
  published: Boolean!
  freightDiscountType: Int!
  accountNumber: String
  email: String
  phone: String
  logoId: UUID
  leadTime: Int
  paymentTerms: Int
  baseCommissionRate: Decimal!
  commissionDiscountRate: Decimal!
  overallDiscountRate: Decimal!
  additionalInformation: String
  freightTerms: String
  externalPaymentTerms: String
  createdBy: UserResponse!
  splitRates: [FactorySplitRateResponse!]!
}

input FactorySplitRateInput {
  userId: UUID!
  splitRate: Decimal!
  position: Int!
  id: UUID = null
}

type FactorySplitRateResponse {
  id: UUID!
  factoryId: UUID!
  position: Int!
  splitRate: Decimal!
  user: UserResponse!
}

type FileLinkedEntitiesResponse {
  quotes: [QuoteResponse!]!
  orders: [OrderResponse!]!
  invoices: [InvoiceResponse!]!
  checks: [CheckResponse!]!
  customers: [CustomerResponse!]!
  factories: [FactoryResponse!]!
  products: [ProductResponse!]!
}

input Filter {
  columnName: String!
  operator: FilterOperator!
  value: String = null
  values: [String!] = null
}

enum FilterOperator {
  EQ
  NE
  GT
  GTE
  LT
  LTE
  LIKE
  ILIKE
  BEGINS_WITH
  ENDS_WITH
  IN
  NOT_IN
  IS_NULL
  IS_NOT_NULL
}

type GenericLandingPage {
  records: [LandingRecord!]!
  total: Int!
}

type GmailConnectionResultType {
  success: Boolean!
  googleEmail: String
  error: String
}

type GmailConnectionStatusType {
  isConnected: Boolean!
  googleEmail: String
  expiresAt: datetime
  lastUsedAt: datetime
}

input GmailSendEmailInput {
  to: [String!]!
  subject: String!
  body: String!
  bodyType: String! = "HTML"
  cc: [String!] = null
  bcc: [String!] = null
}

type GmailSendEmailResultType {
  success: Boolean!
  messageId: String
  error: String
}

input HighlightRegionInput {
  pageNumber: Int!
  x: Float!
  y: Float!
  width: Float!
  height: Float!
  shapeType: String!
  color: String!
  annotation: String = null
}

type HighlightRegionResponse {
  id: UUID!
  versionId: UUID!
  pageNumber: Int!
  x: Float!
  y: Float!
  width: Float!
  height: Float!
  shapeType: String!
  color: String!
  annotation: String
  createdAt: datetime!
}

type HighlightVersionResponse {
  id: UUID!
  specSheetId: UUID!
  name: String!
  description: String
  versionNumber: Int!
  isActive: Boolean!
  regions: [HighlightRegionResponse!]!
  regionCount: Int!
  createdAt: datetime!
  createdBy: UserResponse!
}

input InsideSplitRateInput {
  userId: UUID!
  splitRate: Decimal!
  position: Int!
  id: UUID = null
}

type InvoiceResponse {
  id: UUID!
  invoiceNumber: String!
  entityDate: Date!
  dueDate: Date
  factoryId: UUID
  orderId: UUID!
  status: Int!
  published: Boolean!
  locked: Boolean!
  createdBy: UUID!
  creationType: Int!
  balanceId: UUID!
  url: String!
}

"""The `JSON` scalar type represents JSON values as specified by ECMA-404"""
scalar JSON

input JobInput {
  jobName: String!
  statusId: UUID!
  startDate: Date
  endDate: Date
  jobOwnerId: UUID
  description: String
  jobType: String
  structuralDetails: String
  structuralInformation: String
  additionalInformation: String
  requesterId: UUID
  tags: [String!]
}

type JobLandingPage implements LandingPageInterfaceBase {
  id: UUID!
  createdAt: datetime!
  createdBy: String!
  userIds: [UUID!]!
  jobName: String!
  statusName: String!
  startDate: Date
  endDate: Date
  description: String
  jobType: String
  requester: String
  jobOwner: String
  tags: [String!]
}

type JobRelatedEntitiesResponse {
  preOpportunities: [PreOpportunityLiteResponse!]!
  contacts: [ContactResponse!]!
  companies: [CompanyResponse!]!
  quotes: [QuoteResponse!]!
  orders: [OrderResponse!]!
  invoices: [InvoiceResponse!]!
  checks: [CheckResponse!]!
  factories: [FactoryResponse!]!
  products: [ProductResponse!]!
  customers: [CustomerResponse!]!
}

type JobStatusType {
  id: UUID!
  name: String!
}

type JobType {
  id: UUID!
  createdAt: datetime!
  jobName: String!
  startDate: Date
  endDate: Date
  description: String
  jobType: String
  structuralDetails: String
  structuralInformation: String
  additionalInformation: String
  requesterId: UUID
  tags: [String!]
  status: JobStatusType!
  createdBy: UserResponse!
}

interface LandingPageInterfaceBase {
  id: UUID!
  createdAt: datetime!
  createdBy: String!
  userIds: [UUID!]!
}

union LandingRecord = JobLandingPage | CompanyLandingPage | ContactLandingPage | PreOpportunityLandingPage | NoteLandingPage | TaskLandingPage | CampaignLandingPage | CustomerLandingPage | FactoryLandingPage | ProductLandingPage | QuoteLandingPage

enum LandingSourceType {
  JOBS
  COMPANIES
  CONTACTS
  TASKS
  NOTES
  PRE_OPPORTUNITIES
  CAMPAIGNS
  CUSTOMERS
  FACTORIES
  PRODUCTS
  QUOTES
}

input LinkRelationInput {
  sourceEntityType: EntityType!
  sourceEntityId: UUID!
  targetEntityType: EntityType!
  targetEntityId: UUID!
}

type LinkRelationType {
  id: UUID!
  sourceEntityType: EntityType!
  sourceEntityId: UUID!
  targetEntityType: EntityType!
  targetEntityId: UUID!
  createdAt: datetime!
}

type LinkedEntity {
  id: UUID!
  title: String!
  entityType: EntityType!
}

enum LogicalOperator {
  AND
  OR
}

input MoveFolderInput {
  factoryId: UUID!
  oldFolderPath: String!
  newFolderPath: String!
}

type Mutation {
  createCampaign(input: CampaignInput!): CampaignResponse!
  updateCampaign(id: UUID!, input: CampaignInput!): CampaignResponse!
  deleteCampaign(id: UUID!): Boolean!
  pauseCampaign(id: UUID!): CampaignResponse!
  resumeCampaign(id: UUID!): CampaignResponse!
  refreshDynamicRecipients(campaignId: UUID!): CampaignResponse!
  sendTestEmail(campaignId: UUID!, testEmail: String!): SendTestEmailResponse!
  startCampaignSending(campaignId: UUID!): CampaignResponse!
  createCompany(input: CompanyInput!): CompanyResponse!
  deleteCompany(id: UUID!): Boolean!
  updateCompany(id: UUID!, input: CompanyInput!): CompanyResponse!
  createContact(input: ContactInput!): ContactResponse!
  deleteContact(id: UUID!): Boolean!
  updateContact(id: UUID!, input: ContactInput!): ContactResponse!
  gmailConnect(code: String!): GmailConnectionResultType!
  gmailDisconnect: Boolean!
  gmailSendEmail(input: GmailSendEmailInput!): GmailSendEmailResultType!
  o365Connect(code: String!): O365ConnectionResultType!
  o365Disconnect: Boolean!
  o365SendEmail(input: O365SendEmailInput!): O365SendEmailResultType!
  createJob(input: JobInput!): JobType!
  updateJob(id: UUID!, input: JobInput!): JobType!
  deleteJob(id: UUID!): Boolean!
  createLink(input: LinkRelationInput!): LinkRelationType!
  deleteLink(id: UUID!): Boolean!
  deleteLinkByEntities(input: DeleteLinkByEntitiesInput!): Boolean!
  createNote(input: NoteInput!): NoteType!
  updateNote(id: UUID!, input: NoteInput!): NoteType!
  deleteNote(id: UUID!): Boolean!
  addNoteConversation(input: NoteConversationInput!): NoteConversationType!
  updateNoteConversation(noteConversationId: UUID!, input: NoteConversationInput!): NoteConversationType!
  deleteNoteConversation(conversationId: UUID!): Boolean!
  deleteNoteConversations(noteId: UUID!): Boolean!
  createPreOpportunity(input: PreOpportunityInput!): PreOpportunityResponse!
  updatePreOpportunity(input: PreOpportunityInput!): PreOpportunityResponse!
  deletePreOpportunity(id: UUID!): Boolean!
  createQuote(input: QuoteInput!): QuoteResponse!
  updateQuote(input: QuoteInput!): QuoteResponse!
  deleteQuote(id: UUID!): Boolean!
  createQuoteFromPreOpportunity(preOpportunityId: UUID!, quoteNumber: String!): QuoteResponse!
  duplicateQuote(sourceQuoteId: UUID!, newQuoteNumber: String!): QuoteResponse!
  createHighlightVersion(input: CreateHighlightVersionInput!): HighlightVersionResponse!
  updateHighlightVersion(id: UUID!, input: UpdateHighlightVersionInput!): HighlightVersionResponse!
  updateHighlightRegions(input: UpdateHighlightRegionsInput!): HighlightVersionResponse!
  deleteHighlightVersion(id: UUID!): Boolean!
  createSpecSheet(input: CreateSpecSheetInput!): SpecSheetResponse!
  updateSpecSheet(id: UUID!, input: UpdateSpecSheetInput!): SpecSheetResponse!
  deleteSpecSheet(id: UUID!): Boolean!
  incrementSpecSheetUsage(id: UUID!): Boolean!
  moveFolder(input: MoveFolderInput!): Int!
  createTask(input: TaskInput!): TaskType!
  updateTask(id: UUID!, input: TaskInput!): TaskType!
  deleteTask(id: UUID!): Boolean!
  addTaskConversation(input: TaskConversationInput!): TaskConversationType!
  updateTaskConversation(id: UUID!, input: TaskConversationInput!): TaskConversationType!
  deleteTaskConversation(id: UUID!): Boolean!
  createCustomerFactorySalesRep(input: CustomerFactorySalesRepInput!): CustomerFactorySalesRepResponse!
  updateCustomerFactorySalesRep(id: UUID!, input: CustomerFactorySalesRepInput!): CustomerFactorySalesRepResponse!
  deleteCustomerFactorySalesRep(id: UUID!): Boolean!
  createCustomer(input: CustomerInput!): CustomerResponse!
  updateCustomer(id: UUID!, input: CustomerInput!): CustomerResponse!
  deleteCustomer(id: UUID!): Boolean!
  createFactory(input: FactoryInput!): FactoryResponse!
  updateFactory(id: UUID!, input: FactoryInput!): FactoryResponse!
  deleteFactory(id: UUID!): Boolean!
  updateManufacturerOrder(factoryIds: [UUID!]!): Int!
  createProductCategory(input: ProductCategoryInput!): ProductCategoryResponse!
  updateProductCategory(id: UUID!, input: ProductCategoryInput!): ProductCategoryResponse!
  deleteProductCategory(id: UUID!): Boolean!
  createProductCpn(input: ProductCpnInput!): ProductCpnResponse!
  updateProductCpn(id: UUID!, input: ProductCpnInput!): ProductCpnResponse!
  deleteProductCpn(id: UUID!): Boolean!
  createProductUom(input: ProductUomInput!): ProductUomResponse!
  updateProductUom(id: UUID!, input: ProductUomInput!): ProductUomResponse!
  deleteProductUom(id: UUID!): Boolean!
  createProduct(input: ProductInput!): ProductResponse!
  updateProduct(id: UUID!, input: ProductInput!): ProductResponse!
  deleteProduct(id: UUID!): Boolean!
  createUser(input: UserInput!): UserResponse!
  updateUser(id: UUID!, input: UserInput!): UserResponse!
  deleteUser(id: UUID!): Boolean!
  updateRbacGrid(rbacGrid: [RbacGridInput!]!): [RbacGridResponse!]!
}

input NoteConversationInput {
  noteId: UUID!
  content: String!
}

type NoteConversationType {
  id: UUID!
  createdAt: datetime!
  noteId: UUID!
  content: String!
}

input NoteInput {
  title: String!
  content: String!
  tags: [String!]
  mentions: [UUID!]
}

type NoteLandingPage implements LandingPageInterfaceBase {
  id: UUID!
  createdAt: datetime!
  createdBy: String!
  userIds: [UUID!]!
  title: String!
  content: String!
  tags: [String!]
  mentions: [UUID!]
  linkedEntities: [LinkedEntity!]!
}

type NoteRelatedEntitiesResponse {
  jobs: [JobType!]!
  tasks: [TaskType!]!
  contacts: [ContactResponse!]!
  companies: [CompanyResponse!]!
  preOpportunities: [PreOpportunityLiteResponse!]!
  quotes: [QuoteResponse!]!
  orders: [OrderResponse!]!
  invoices: [InvoiceResponse!]!
  checks: [CheckResponse!]!
  factories: [FactoryResponse!]!
  products: [ProductResponse!]!
  customers: [CustomerResponse!]!
}

type NoteType {
  id: UUID!
  createdAt: datetime!
  title: String!
  content: String!
  tags: [String!]
  mentions: [UUID!]
  createdBy: UserResponse!
}

type O365CalendarAttendeeType {
  email: String!
  name: String
  responseStatus: String
}

type O365CalendarEventType {
  id: String!
  subject: String!
  start: datetime!
  end: datetime!
  isAllDay: Boolean!
  location: String
  bodyPreview: String
  organizerEmail: String
  organizerName: String
  attendees: [O365CalendarAttendeeType!]
  webLink: String
  isCancelled: Boolean!
}

type O365CalendarEventsResultType {
  success: Boolean!
  events: [O365CalendarEventType!]
  error: String
}

type O365ConnectionResultType {
  success: Boolean!
  microsoftEmail: String
  error: String
}

type O365ConnectionStatusType {
  isConnected: Boolean!
  microsoftEmail: String
  expiresAt: datetime
  lastUsedAt: datetime
}

input O365SendEmailInput {
  to: [String!]!
  subject: String!
  body: String!
  bodyType: String! = "HTML"
  cc: [String!] = null
  bcc: [String!] = null
}

type O365SendEmailResultType {
  success: Boolean!
  messageId: String
  error: String
}

input OrderBy {
  columnName: String!
  direction: OrderByOperator!
}

enum OrderByOperator {
  ASC
  DESC
}

type OrderResponse {
  id: UUID!
  orderNumber: String!
  status: Int!
  balanceId: UUID
  factoryId: UUID
  soldToCustomerId: UUID
  billToCustomerId: UUID
  entityDate: Date!
  shipDate: Date
  dueDate: Date!
  factSoNumber: String
  quoteId: UUID
  url: String!
}

input OutsideSplitRateInput {
  userId: UUID!
  splitRate: Decimal!
  position: Int!
  id: UUID = null
}

enum PipelineStage {
  DISCOVERY
  PROSPECT
  QUALIFICATION
  PROPOSAL
  NEGOTIATION
  CLOSED_WON
  CLOSED_LOST
}

type PreOpportunityBalanceResponse {
  id: UUID!
  subtotal: Decimal!
  total: Decimal!
  quantity: Decimal!
  discount: Decimal!
  discountRate: Decimal!
}

input PreOpportunityDetailInput {
  quantity: Decimal!
  itemNumber: Int!
  unitPrice: Decimal!
  discountRate: Decimal!
  productId: UUID!
  endUserId: UUID!
  id: UUID = null
  productCpnId: UUID = null
  leadTime: String = null
}

type PreOpportunityDetailResponse {
  id: UUID!
  preOpportunityId: UUID!
  quantity: Decimal!
  itemNumber: Int!
  unitPrice: Decimal!
  subtotal: Decimal!
  discountRate: Decimal!
  discount: Decimal!
  total: Decimal!
  productId: UUID!
  productCpnId: UUID
  endUserId: UUID!
  leadTime: String
  product: ProductLiteResponse!
}

input PreOpportunityInput {
  status: PreOpportunityStatus!
  entityNumber: String!
  entityDate: Date!
  soldToCustomerId: UUID!
  details: [PreOpportunityDetailInput!]!
  id: UUID
  expDate: Date
  reviseDate: Date
  acceptDate: Date
  soldToCustomerAddressId: UUID
  billToCustomerId: UUID
  billToCustomerAddressId: UUID
  jobId: UUID
  paymentTerms: String
  customerRef: String
  freightTerms: String
  tags: [String!]
}

type PreOpportunityLandingPage implements LandingPageInterfaceBase {
  id: UUID!
  createdAt: datetime!
  createdBy: String!
  userIds: [UUID!]!
  entityNumber: String!
  status: String!
  entityDate: Date!
  expDate: Date
  total: Decimal!
  tags: [String!]
}

type PreOpportunityLiteResponse {
  id: UUID!
  createdAt: datetime!
  createdById: UUID!
  status: PreOpportunityStatus!
  entityNumber: String!
  entityDate: Date!
  expDate: Date
  reviseDate: Date
  acceptDate: Date
  soldToCustomerId: UUID!
  soldToCustomerAddressId: UUID
  billToCustomerId: UUID
  billToCustomerAddressId: UUID
  jobId: UUID
  paymentTerms: String
  customerRef: String
  freightTerms: String
  tags: [String!]
}

type PreOpportunityResponse {
  id: UUID!
  createdAt: datetime!
  createdById: UUID!
  status: PreOpportunityStatus!
  entityNumber: String!
  entityDate: Date!
  expDate: Date
  reviseDate: Date
  acceptDate: Date
  soldToCustomerId: UUID!
  soldToCustomerAddressId: UUID
  billToCustomerId: UUID
  billToCustomerAddressId: UUID
  jobId: UUID
  paymentTerms: String
  customerRef: String
  freightTerms: String
  tags: [String!]
  balance: PreOpportunityBalanceResponse!
  details: [PreOpportunityDetailResponse!]!
  job: JobType
  createdBy: UserResponse!
}

enum PreOpportunityStatus {
  QUALIFIED
  NEGOTIATION
  FOLLOW_UP
  WAITING_ON_FACTORY
  LOST
  WON
}

input ProductCategoryInput {
  title: String!
  commissionRate: Decimal!
  factoryId: UUID = null
  parentId: UUID = null
  grandparentId: UUID = null
}

type ProductCategoryResponse {
  id: UUID!
  title: String!
  factoryId: UUID
  commissionRate: Decimal!
}

input ProductCpnInput {
  productId: UUID!
  customerId: UUID!
  customerPartNumber: String!
  unitPrice: Decimal!
  commissionRate: Decimal!
}

type ProductCpnResponse {
  id: UUID!
  productId: UUID!
  customerId: UUID!
  customerPartNumber: String!
  unitPrice: Decimal!
  commissionRate: Decimal!
  product: ProductLiteResponse!
  customer: CustomerLiteResponse!
}

input ProductInput {
  factoryPartNumber: String!
  factoryId: UUID!
  unitPrice: Decimal!
  defaultCommissionRate: Decimal!
  productUomId: UUID!
  productCategoryId: UUID = null
  approvalNeeded: Boolean = null
  published: Boolean! = false
  description: String = null
}

type ProductLandingPage implements LandingPageInterfaceBase {
  id: UUID!
  createdAt: datetime!
  createdBy: String!
  userIds: [UUID!]!
  factoryPartNumber: String!
  unitPrice: Decimal!
  defaultCommissionRate: Decimal!
  published: Boolean!
  approvalNeeded: Boolean!
  description: String
  factoryTitle: String!
  categoryTitle: String
  uomTitle: String
}

type ProductLiteResponse {
  id: UUID!
  factoryPartNumber: String!
  unitPrice: Decimal!
  defaultCommissionRate: Decimal!
  published: Boolean!
  approvalNeeded: Boolean
  description: String
}

type ProductResponse {
  id: UUID!
  factoryPartNumber: String!
  unitPrice: Decimal!
  defaultCommissionRate: Decimal!
  published: Boolean!
  approvalNeeded: Boolean
  description: String
  factory: FactoryLiteResponse!
  category: ProductCategoryResponse
  uom: ProductUomResponse
}

input ProductUomInput {
  title: String!
  divisionFactor: Decimal = null
  description: String = null
}

type ProductUomResponse {
  id: UUID!
  title: String!
  description: String
  divisionFactor: Decimal
}

type Query {
  _service: _Service!
  campaign(id: UUID!): CampaignResponse!
  campaignRecipients(campaignId: UUID!, limit: Int! = 100, offset: Int! = 0): [CampaignRecipientResponse!]!
  estimateRecipients(criteria: CampaignCriteriaInput!, sampleLimit: Int! = 10): EstimateRecipientsResponse!
  campaignSendingStatus(campaignId: UUID!): CampaignSendingStatusResponse!
  checkSearch(searchTerm: String!, limit: Int! = 20): [CheckResponse!]!
  findLandingPages(sourceType: LandingSourceType!, filters: [Filter!] = null, orderBy: [OrderBy!] = null, limit: Int = 10, offset: Int = 0): GenericLandingPage!
  universalSearch(searchTerm: String!, limit: Int! = 20): [SearchResult!]!
  company(id: UUID!): CompanyResponse!
  companySearch(searchTerm: String!, limit: Int! = 20): [CompanyResponse!]!
  contact(id: UUID!): ContactResponse!
  contactsByCompany(companyId: UUID!): [ContactResponse!]!
  contactSearch(searchTerm: String!, limit: Int! = 20): [ContactResponse!]!
  contactRelatedEntities(contactId: UUID!): ContactRelatedEntitiesResponse!
  fileLinkedEntities(fileId: UUID!): FileLinkedEntitiesResponse!
  gmailAuthUrl(state: String = null): String!
  gmailConnectionStatus: GmailConnectionStatusType!
  o365AuthUrl(state: String = null): String!
  o365ConnectionStatus: O365ConnectionStatusType!
  o365CalendarEvents(top: Int! = 50, skip: Int! = 0): O365CalendarEventsResultType!
  o365CalendarEventsInRange(startDate: datetime!, endDate: datetime!, top: Int! = 100): O365CalendarEventsResultType!
  invoiceSearch(searchTerm: String!, limit: Int! = 20): [InvoiceResponse!]!
  job(id: UUID!): JobType!
  jobStatuses: [JobStatusType!]!
  jobRelatedEntities(jobId: UUID!): JobRelatedEntitiesResponse!
  jobSearch(searchTerm: String!, limit: Int! = 20): [JobType!]!
  jobsByContact(contactId: UUID!): [JobType!]!
  jobsByCompany(companyId: UUID!): [JobType!]!
  link(id: UUID!): LinkRelationType!
  linksByEntity(entityType: EntityType!, entityId: UUID!): [LinkRelationType!]!
  linksFromSource(sourceType: EntityType!, sourceId: UUID!): [LinkRelationType!]!
  linksToTarget(targetType: EntityType!, targetId: UUID!): [LinkRelationType!]!
  note(id: UUID!): NoteType!
  notes(limit: Int! = 20, offset: Int! = 0): [NoteType!]!
  notesByEntity(entityType: EntityType!, entityId: UUID!): [NoteType!]!
  noteConversations(noteId: UUID!): [NoteConversationType!]!
  noteSearch(searchTerm: String!, limit: Int! = 20): [NoteType!]!
  noteRelatedEntities(noteId: UUID!): NoteRelatedEntitiesResponse!
  orderSearch(searchTerm: String!, limit: Int! = 20): [OrderResponse!]!
  preOpportunity(id: UUID!): PreOpportunityResponse!
  preOpportunitySearch(searchTerm: String!, limit: Int! = 20): [PreOpportunityLiteResponse!]!
  findQuoteById(id: UUID!): QuoteResponse!
  quoteSearch(searchTerm: String!, limit: Int! = 20): [QuoteLiteResponse!]!
  highlightVersion(id: UUID!): HighlightVersionResponse
  highlightVersionsBySpecSheet(specSheetId: UUID!, activeOnly: Boolean! = false): [HighlightVersionResponse!]!
  specSheet(id: UUID!): SpecSheetResponse
  specSheetsByFactory(factoryId: UUID!, publishedOnly: Boolean! = true): [SpecSheetResponse!]!
  specSheetSearch(searchTerm: String! = "", factoryId: UUID = null, categories: [String!] = null, publishedOnly: Boolean! = true, limit: Int! = 50): [SpecSheetResponse!]!
  task(id: UUID!): TaskType!
  taskConversations(taskId: UUID!): [TaskConversationType!]!
  taskSearch(searchTerm: String!, limit: Int! = 20): [TaskType!]!
  taskRelatedEntities(taskId: UUID!): TaskRelatedEntitiesResponse!
  tasksByEntity(entityType: EntityType!, entityId: UUID!): [TaskType!]!
  findCustomerFactorySalesRepById(id: UUID!): CustomerFactorySalesRepResponse!
  listCustomerFactorySalesReps(customerId: UUID, factoryId: UUID): [CustomerFactorySalesRepResponse!]!
  findCustomerById(id: UUID!): CustomerResponse!
  customerSearch(searchTerm: String!, published: Boolean! = true, limit: Int! = 20): [CustomerResponse!]!
  findFactoryById(id: UUID!): FactoryResponse!
  factorySearch(searchTerm: String!, published: Boolean! = true, limit: Int! = 20, useCustomOrder: Boolean! = false): [FactoryResponse!]!
  productCategories(factoryId: UUID, parentId: UUID, grandparentId: UUID): [ProductCategoryResponse!]!
  findProductCpnById(id: UUID!): ProductCpnResponse!
  listProductCpnsByProductId(productId: UUID!): [ProductCpnResponse!]!
  productUoms: [ProductUomResponse!]!
  findProductById(id: UUID!): ProductResponse!
  productSearch(searchTerm: String!, productCategoryIds: [UUID!] = null, factoryId: UUID, limit: Int! = 20): [ProductResponse!]!
  productCategorySearch(searchTerm: String!, factoryId: UUID, limit: Int! = 20): [ProductCategoryResponse!]!
  user(id: UUID!): UserResponse!
  userSearch(searchTerm: String!, isInside: Boolean = null, isOutside: Boolean = null, enabled: Boolean = true, limit: Int! = 20): [UserResponse!]!
  users(limit: Int = null, offset: Int! = 0): [UserResponse!]!
  getRbacGrid: [RbacGridResponse!]!
}

type QuoteBalanceResponse {
  id: UUID!
  quantity: Decimal!
  subtotal: Decimal!
  total: Decimal!
  commission: Decimal!
  discount: Decimal!
  discountRate: Decimal!
  commissionRate: Decimal!
  commissionDiscount: Decimal!
  commissionDiscountRate: Decimal!
}

input QuoteDetailInput {
  itemNumber: Int!
  quantity: Decimal!
  unitPrice: Decimal!
  id: UUID = null
  uomId: UUID = null
  divisionFactor: Decimal = null
  productId: UUID = null
  productNameAdhoc: String = null
  productDescriptionAdhoc: String = null
  factoryId: UUID = null
  endUserId: UUID = null
  leadTime: String = null
  note: String = null
  status: QuoteDetailStatus! = OPEN
  discountRate: Decimal! = "0.0000"
  commissionRate: Decimal! = "0.0000"
  commissionDiscountRate: Decimal! = "0.0000"
  splitRates: [QuoteSplitRateInput!] = null
}

type QuoteDetailResponse {
  id: UUID!
  quoteId: UUID!
  itemNumber: Int!
  quantity: Decimal!
  unitPrice: Decimal!
  subtotal: Decimal!
  total: Decimal!
  totalLineCommission: Decimal!
  commissionRate: Decimal!
  commission: Decimal!
  commissionDiscountRate: Decimal!
  commissionDiscount: Decimal!
  discountRate: Decimal!
  discount: Decimal!
  productId: UUID
  productNameAdhoc: String
  productDescriptionAdhoc: String
  factoryId: UUID
  endUserId: UUID
  leadTime: String
  note: String
  status: QuoteDetailStatus!
  splitRates: [QuoteSplitRateResponse!]!
  product: ProductLiteResponse
  uom: ProductUomResponse
}

enum QuoteDetailStatus {
  OPEN
  ORDERED
  LOST
}

input QuoteInput {
  quoteNumber: String!
  entityDate: Date!
  soldToCustomerId: UUID!
  status: QuoteStatus!
  pipelineStage: PipelineStage!
  details: [QuoteDetailInput!]!
  id: UUID
  published: Boolean!
  creationType: CreationType!
  billToCustomerId: UUID
  paymentTerms: String
  customerRef: String
  freightTerms: String
  expDate: Date
  reviseDate: Date
  acceptDate: Date
  blanket: Boolean!
  insideReps: [QuoteInsideRepInput!]
}

input QuoteInsideRepInput {
  userId: UUID!
  splitRate: Decimal!
  position: Int! = 0
  id: UUID = null
}

type QuoteInsideRepResponse {
  id: UUID!
  createdAt: datetime!
  quoteId: UUID!
  userId: UUID!
  splitRate: Decimal!
  position: Int!
}

type QuoteLandingPage implements LandingPageInterfaceBase {
  id: UUID!
  createdAt: datetime!
  createdBy: String!
  userIds: [UUID!]!
  quoteNumber: String!
  status: QuoteStatus!
  pipelineStage: PipelineStage!
  entityDate: Date!
  expDate: Date
  total: Decimal!
  published: Boolean!
}

type QuoteLiteResponse {
  id: UUID!
  createdAt: datetime!
  createdById: UUID!
  quoteNumber: String!
  entityDate: Date!
  status: QuoteStatus!
  pipelineStage: PipelineStage!
  published: Boolean!
  creationType: CreationType!
  soldToCustomerId: UUID!
  billToCustomerId: UUID
  paymentTerms: String
  customerRef: String
  freightTerms: String
  expDate: Date
  reviseDate: Date
  acceptDate: Date
  blanket: Boolean!
  duplicatedFrom: UUID
  versionOf: UUID
  balanceId: UUID!
  url: String!
}

type QuoteResponse {
  id: UUID!
  createdAt: datetime!
  createdById: UUID!
  quoteNumber: String!
  entityDate: Date!
  status: QuoteStatus!
  pipelineStage: PipelineStage!
  published: Boolean!
  creationType: CreationType!
  soldToCustomerId: UUID!
  billToCustomerId: UUID
  paymentTerms: String
  customerRef: String
  freightTerms: String
  expDate: Date
  reviseDate: Date
  acceptDate: Date
  blanket: Boolean!
  duplicatedFrom: UUID
  versionOf: UUID
  balanceId: UUID!
  url: String!
  createdBy: UserResponse!
  soldToCustomer: CustomerLiteResponse!
  billToCustomer: CustomerLiteResponse
  balance: QuoteBalanceResponse!
  details: [QuoteDetailResponse!]!
  insideReps: [QuoteInsideRepResponse!]!
}

input QuoteSplitRateInput {
  userId: UUID!
  splitRate: Decimal!
  position: Int! = 0
  id: UUID = null
}

type QuoteSplitRateResponse {
  id: UUID!
  createdAt: datetime!
  quoteDetailId: UUID!
  userId: UUID!
  splitRate: Decimal!
  position: Int!
}

enum QuoteStatus {
  OPEN
  ORDERED
  EXPIRED
  LOST
}

input RbacGridInput {
  resource: RbacResourceEnum!
  roles: [RbacGridRoleInput!]!
}

type RbacGridResponse {
  resource: RbacResourceEnum!
  roles: [RbacRolePermissionResponse!]!
}

input RbacGridRoleInput {
  role: RbacRoleEnum!
  privileges: [RbacGridRolePrivilegeInput!]!
}

input RbacGridRolePrivilegeInput {
  privilege: RbacPrivilegeTypeEnum!
  option: RbacPrivilegeOptionEnum!
}

enum RbacPrivilegeOptionEnum {
  OWN
  ALL
}

type RbacPrivilegeResponse {
  privilege: RbacPrivilegeTypeEnum!
  option: RbacPrivilegeOptionEnum!
}

enum RbacPrivilegeTypeEnum {
  VIEW
  WRITE
  DELETE
}

enum RbacResourceEnum {
  ADMIN
  FACTORY
  CUSTOMER
  PRODUCT
  QUOTE
  ORDER
  INVOICE
  CHECK
  CREDIT
  EXPENSE
  JOB
  PRE_OPPORTUNITY
  TASK
}

enum RbacRoleEnum {
  OWNER
  ADMINISTRATOR
  INSIDE_REP
  OUTSIDE_REP
  WAREHOUSE_MANAGER
  WAREHOUSE_EMPLOYEE
  DRIVER
}

type RbacRolePermissionResponse {
  roleName: RbacRoleEnum!
  privileges: [RbacPrivilegeResponse!]!
}

enum RecipientListType {
  STATIC
  CRITERIA_BASED
  DYNAMIC
}

enum RepTypeEnum {
  OUTSIDE
  INSIDE
}

type SearchResult {
  id: UUID!
  title: String!
  alias: String
  resultType: SourceType!
}

enum SendPace {
  SLOW
  MEDIUM
  FAST
}

type SendTestEmailResponse {
  success: Boolean!
  error: String
}

enum SourceType {
  CONTACT
  COMPANY
  JOB
  TASK
  NOTE
  CAMPAIGN
  QUOTE
  PRE_OPPORTUNITY
  SPEC_SHEET
  CUSTOMER
  FACTORY
  PRODUCT
}

type SpecSheetResponse {
  id: UUID!
  factoryId: UUID!
  fileName: String!
  displayName: String!
  uploadSource: String!
  sourceUrl: String
  fileUrl: String!
  fileSize: Int!
  pageCount: Int!
  categories: [String!]!
  tags: [String!]
  folderPath: String
  needsReview: Boolean!
  published: Boolean!
  usageCount: Int!
  highlightCount: Int!
  createdAt: datetime!
  createdBy: UserResponse!
}

input TaskConversationInput {
  taskId: UUID!
  content: String!
}

type TaskConversationType {
  id: UUID!
  createdAt: datetime!
  taskId: UUID!
  content: String!
}

input TaskInput {
  title: String!
  status: TaskStatus!
  priority: TaskPriority!
  description: String
  assignedToId: UUID
  dueDate: Date
  reminderDate: Date
  tags: [String!]
}

type TaskLandingPage implements LandingPageInterfaceBase {
  id: UUID!
  createdAt: datetime!
  createdBy: String!
  userIds: [UUID!]!
  title: String!
  status: TaskStatus!
  priority: TaskPriority!
  description: String
  assignedTo: String
  dueDate: Date
  reminderDate: Date
  tags: [String!]
  linkedEntities: [LinkedEntity!]!
}

enum TaskPriority {
  LOW
  NORMAL
  URGENT
  CRITICAL
}

type TaskRelatedEntitiesResponse {
  jobs: [JobType!]!
  contacts: [ContactResponse!]!
  companies: [CompanyResponse!]!
  notes: [NoteType!]!
  preOpportunities: [PreOpportunityLiteResponse!]!
  quotes: [QuoteResponse!]!
  orders: [OrderResponse!]!
  invoices: [InvoiceResponse!]!
  checks: [CheckResponse!]!
  factories: [FactoryResponse!]!
  products: [ProductResponse!]!
  customers: [CustomerResponse!]!
}

enum TaskStatus {
  TODO
  IN_PROGRESS
  COMPLETED
  CANCELLED
}

type TaskType {
  id: UUID!
  createdAt: datetime!
  title: String!
  status: TaskStatus!
  priority: TaskPriority!
  description: String
  assignedToId: UUID
  dueDate: Date
  reminderDate: Date
  tags: [String!]
  createdBy: UserResponse!
}

scalar UUID

input UpdateHighlightRegionsInput {
  versionId: UUID!
  regions: [HighlightRegionInput!]!
}

input UpdateHighlightVersionInput {
  name: String = null
  description: String = null
  isActive: Boolean = null
}

input UpdateSpecSheetInput {
  displayName: String
  categories: [String!]
  tags: [String!]
  folderPath: String
  needsReview: Boolean
  published: Boolean
}

scalar Upload

input UserInput {
  username: String!
  firstName: String!
  lastName: String!
  email: String!
  role: RbacRoleEnum!
  enabled: Boolean! = true
  inside: Boolean = null
  outside: Boolean = null
}

type UserResponse {
  id: UUID!
  username: String!
  firstName: String!
  lastName: String!
  email: String!
  fullName: String!
  enabled: Boolean!
  role: RbacRoleEnum!
  authProviderId: String!
  inside: Boolean
  outside: Boolean
}

scalar _Any

type _Service {
  sdl: String!
}

"""A date and time"""
scalar datetime
